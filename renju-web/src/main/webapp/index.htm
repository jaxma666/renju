<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>hello world</title>
    <script type="text/javascript" src="/js/jquery-2.0.0.min.js"></script>
</head>
<body>

<div>
    <input id="shurukuang" type="text" value="" placeholder="json格式"/>
    <button id="hehe">send message to server</button>
</div>


</body>
<script>
    jQuery(document).ready(function () {
        var connection = new WebSocket("ws://localhost:8080/renju");


        jQuery("#hehe").click(function () {
            connection.send(jQuery("#shurukuang").val());
        });

        connection.onopen = function () {
            connection.send("{\"action\":\"create_user\",\"content\":\"lingyao\"}");
        };

// Log errors
        connection.onerror = function (error) {
            alert('WebSocket Error' + error);
        };

// Log messages from the server
        connection.onmessage = function (e) {
            console.log('Server: ' + e.data);
        };
    });

</script>
</html>